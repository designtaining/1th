<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --vw: 1vw;
            --vh: 1vh;
        }

        * {
            box-sizing: border-box;
        }

        .main_container {
            width: 100%;
            height: auto;
            /* 내부 섹션을 pin으로 제어 */
            overflow: clip;
            font-family: 'Pretendard', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        }

        /* 공통 래퍼: 모두 100vh, 중앙 정렬, 포지션 relative (pin용) */
        .panel_wrapper {
            width: 100%;
            height: 100vh;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* ========== FIRST ========== */
        .first_wrapper {
            background-color: #ffffff;
        }

        .first_box {
            display: flex;
            flex-direction: column;
            gap: 8px;
            will-change: transform, opacity;
        }

        .first_catchprase1,
        .first_catchprase2,
        .first_catchprase3 {
            font-size: 60px;
            font-weight: 700;
            line-height: 1.12;
            margin: 0;
            text-align: center;
            letter-spacing: -0.02em;
        }

        .first_catchprase1 {
            color: #111111;
        }

        .first_catchprase2 {
            color: #2e50e2;
        }

        .first_catchprase3 {
            color: #333333;
        }

        /* ========== SECOND ========== */
        .second_stage {
            /* second_wrapper가 스케일 애니메이션을 해도 중앙 유지되도록 스테이지 하나 더 둠 */
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .second_wrapper {
            width: 80vw;
            height: 80vh;
            background-image: url(https://ncryk7.mycafe24.com/chefsecond.png);
            background-size: cover;
            background-position: center;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto;
            border-radius: 24px;
            will-change: width, height, border-radius, transform;
            overflow: hidden;
        }

        .second_wrapper_shadow {
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, transparent 0%, #111111 100%);
            z-index: 1;
            pointer-events: none;
        }

        .second_box {
            position: relative;
            z-index: 2;
            transform: translateY(40px);
            opacity: 0;
            will-change: transform, opacity;
        }

        .second_catchprase1 {
            font-size: 60px;
            font-weight: 700;
            color: #ffffff;
            margin: 0;
            text-align: center;
        }

        /* ========== THIRD ========== */
        .third_wrapper {
            background-color: #111111;
        }

        .third_img_wrapper {
            position: absolute;
            inset: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 40px;
            width: 80vw;
            height: 80vh;
            margin: auto;
            z-index: 1;
            pointer-events: none;
        }

        .third_img_box {
            width: 360px;
            height: 360px;
            border-radius: 24px;
            overflow: hidden;
            transform: translateY(60px);
            opacity: 0;
            will-change: transform, opacity;
        }

        .third_img_box>img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .third_title_box {
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 2;
            pointer-events: none;
        }

        .third_catchprase1,
        .third_catchprase2 {
            font-size: 60px;
            font-weight: 700;
            color: #ffffff;
            margin: 0;
            text-align: center;
            transform: translateY(40px);
            opacity: 0;
            will-change: transform, opacity;
            letter-spacing: -0.02em;
        }

        /* ========== FOURTH ========== */
        .fourth_wrapper {
            background-color: #111111;
        }

        .fourth_box {
            display: flex;
            flex-direction: column;
            gap: 8px;
            transform: translateY(40px);
            opacity: 0;
            will-change: transform, opacity;
        }

        .fourth_catchprase1,
        .fourth_catchprase2 {
            font-size: 60px;
            font-weight: 700;
            color: #ffffff;
            text-align: center;
            margin: 0;
            letter-spacing: -0.02em;
        }

        /* ========== Responsive ========== */
        @media (max-width: 1024px) {
            .third_img_wrapper {
                gap: 24px;
                width: 90vw;
                height: 80vh;
            }

            .third_img_box {
                width: 300px;
                height: 300px;
            }

            .first_catchprase1,
            .first_catchprase2,
            .first_catchprase3,
            .second_catchprase1,
            .third_catchprase1,
            .third_catchprase2,
            .fourth_catchprase1,
            .fourth_catchprase2 {
                font-size: 44px;
            }
        }

        @media (max-width: 768px) {
            .third_img_wrapper {
                gap: 16px;
                width: 94vw;
                height: 70vh;
            }

            .third_img_box {
                width: 44vw;
                height: 44vw;
                max-width: 320px;
                max-height: 320px;
            }

            .first_catchprase1,
            .first_catchprase2,
            .first_catchprase3,
            .second_catchprase1,
            .third_catchprase1,
            .third_catchprase2,
            .fourth_catchprase1,
            .fourth_catchprase2 {
                font-size: 32px;
            }

            .second_wrapper {
                border-radius: 18px;
            }
        }
    </style>
</head>

<body>

    <section class="main_container">

        <!-- FIRST -->
        <div class="panel_wrapper first_wrapper">
            <div class="first_box">
                <p class="first_catchprase1">안녕하세요</p>
                <p class="first_catchprase2">소래포구 유명맛집</p>
                <p class="first_catchprase3">양쉐프양구이 입니다.</p>
            </div>
        </div>

        <!-- SECOND -->
        <div class="panel_wrapper second_wrapper_panel">
            <div class="second_stage">
                <div class="second_wrapper">
                    <div class="second_wrapper_shadow"></div>
                    <div class="second_box">
                        <p class="second_catchprase1">여러분의 방문을 환영합니다.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- THIRD -->
        <div class="panel_wrapper third_wrapper">
            <div class="third_img_wrapper">
                <div class="third_img_box"><img src="https://ncryk7.mycafe24.com/chefthird1.png" alt=""></div>
                <div class="third_img_box"><img src="https://ncryk7.mycafe24.com/chefthird2.png" alt=""></div>
                <div class="third_img_box"><img src="https://ncryk7.mycafe24.com/chefthird3.png" alt=""></div>
                <div class="third_img_box"><img src="https://ncryk7.mycafe24.com/chefthird4.png" alt=""></div>
                <div class="third_img_box"><img src="https://ncryk7.mycafe24.com/chefthird5.png" alt=""></div>
                <div class="third_img_box"><img src="https://ncryk7.mycafe24.com/chefthird6.png" alt=""></div>
            </div>
            <div class="third_title_box">
                <p class="third_catchprase1">아름다운 분위기를</p>
                <p class="third_catchprase2">선물하겠습니다.</p>
            </div>
        </div>

        <!-- FOURTH -->
        <div class="panel_wrapper fourth_wrapper">
            <div class="fourth_box">
                <p class="fourth_catchprase1">당일 예약은 선착순으로</p>
                <p class="fourth_catchprase2">문의를 주셔야합니다.</p>
            </div>
        </div>
    </section>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        /* FIRST: 스크롤 내리면 first_box가 위로 사라짐 */
        const tlFirst = gsap.timeline({
            scrollTrigger: {
                trigger: ".first_wrapper",
                start: "top top",
                end: "+=120%",
                scrub: true,
                pin: true
            }
        });
        tlFirst.to(".first_box", {
            y: -120,
            opacity: 0,
            ease: "power2.out"
        });

        /* SECOND: 80vw/80vh → 100vw/100vh, 이후 텍스트 아래→위 등장 */
        const tlSecond = gsap.timeline({
            scrollTrigger: {
                trigger: ".second_wrapper_panel",
                start: "top top",
                end: "+=200%",
                scrub: true,
                pin: true
            }
        });

        // 단계1) 프레임 확장(80→100)
        tlSecond.to(".second_wrapper", {
            width: "100vw",
            height: "100vh",
            borderRadius: 0,
            ease: "power2.inOut"
        }, 0);

        // 단계2) 확장 완료 후 박스 등장(아래→위)
        tlSecond.to(".second_box", {
            y: 0,
            opacity: 1,
            ease: "power2.out"
        }, 0.6); // 살짝 뒤에 시작

        /* THIRD:
            - 이미지 1~6 순차 등장(아래→위, 페이드인)
            - 문구1 등장 → 문구2 등장
            - 마지막에 이미지 1~6 한꺼번에 위로 올리며 opacity 0
        */
        const thirdBoxes = gsap.utils.toArray(".third_img_box");
        const tlThird = gsap.timeline({
            scrollTrigger: {
                trigger: ".third_wrapper",
                start: "top top",
                end: "+=260%",
                scrub: true,
                pin: true
            }
        });

        // 1) 이미지 순차 등장
        thirdBoxes.forEach((box, i) => {
            tlThird.to(box, {
                y: 0,
                opacity: 1,
                ease: "power2.out",
                duration: 0.3
            }, i * 0.1); // 순차 지연
        });

        // 2) 문구1 → 문구2
        tlThird.to(".third_catchprase1", {
            y: 0,
            opacity: 1,
            ease: "power2.out",
            duration: 0.4
        }, "+=0.2");

        tlThird.to(".third_catchprase2", {
            y: 0,
            opacity: 1,
            ease: "power2.out",
            duration: 0.4
        }, ">");

        // 3) 이미지 전체 한꺼번에 위로 올리며 페이드아웃
        tlThird.to(thirdBoxes, {
            y: -120,
            opacity: 0,
            ease: "power2.in",
            duration: 0.6
        }, "+=0.2");

        /* FOURTH:
            - 문구1 올라옴 → 문구2 올라옴
            - 마지막에 fourth_box 자체가 위로 올라가며 페이드아웃.
              끝나면 pin 해제되고 "페이즈 밖"으로 자연스럽게 나감
        */
        const tlFourth = gsap.timeline({
            scrollTrigger: {
                trigger: ".fourth_wrapper",
                start: "top top",
                end: "+=180%",
                scrub: true,
                pin: true
            }
        });

        // 문구1 등장
        tlFourth.to(".fourth_box", {
            y: 0,
            opacity: 1,
            ease: "power2.out",
            duration: 0.6
        }, 0);

        // 문구2는 살짝 튀어나오게 (y값 변화로 자연스럽게)
        tlFourth.fromTo(".fourth_catchprase2",
            { y: 24, opacity: 0.0 },
            { y: 0, opacity: 1, ease: "power2.out", duration: 0.5 },
            0.2
        );

        // 마지막: 박스 자체를 위로 올리며 사라짐 → 이후 pin 해제로 페이즈 아웃
        tlFourth.to(".fourth_box", {
            y: -160,
            opacity: 0,
            ease: "power2.in",
            duration: 0.8
        }, "+=0.4");
    </script>

</body>

</html>