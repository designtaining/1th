<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .portfolio_container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .portfolio_wrapper {
            width: 90%;
            height: 648px;
        }

        .portfolio_box {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            gap: 60px;
        }

        .portfolio_top {
            display: flex;
            justify-content: space-between;
        }

        .portfolio_top_title_box {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .portfolio_title {
            font-family: 'Pretendard';
            font-size: 60px;
            font-weight: 700;
            color: #111111;
            margin: 0;
        }

        .portfolio_desc {
            font-family: 'Pretendard';
            font-size: 28px;
            font-weight: 400;
            color: #767676;
            margin: 0;
        }

        .portfolio_date {
            font-family: 'Pretendard';
            font-size: 20px;
            font-weight: 400;
            color: #111111;
            margin: 0;
        }

        .portfolio_bottom {
            width: 100%;
            display: flex;
            gap: 32px;
            flex-wrap: nowrap;
            overflow-x: auto;
            overflow-y: hidden;
            scroll-behavior: auto;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .portfolio_bottom::-webkit-scrollbar {
            display: none;
        }

        .portfolio_card_box {
            display: flex;
            flex-direction: column;
        }

        .portfolio_card {
            width: 280px;
            height: 400px;
            background-color: #e5e5ec;
            border-radius: 24px;
            position: relative;
            perspective: 1000px;
            cursor: pointer;
        }

        .portfolio_card_inner {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            border-radius: 24px;
        }

        .portfolio_card:hover .portfolio_card_inner {
            transform: rotateY(180deg);
        }

        .portfolio_card_title {
            font-family: 'Pretendard';
            font-size: 20px;
            font-weight: 500;
            color: #111111;
            margin: 0;
        }

        .otherside_card {
            width: 100%;
            height: 100%;
            border-radius: 24px;
            background-color: #4768C9;
            position: absolute;
            backface-visibility: hidden;
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 24px;
        }

        .otherside_title {
            font-family: 'Pretendard';
            font-size: 20px;
            font-weight: 500;
            color: #ffffff;
            margin: 0;
        }

        .otherside_desc {
            font-family: 'Pretendard';
            font-size: 16px;
            font-weight: 400;
            color: #ffffff;
            margin: 0;
        }

        .otherside_link {
            font-family: 'Pretendard';
            font-size: 16px;
            font-weight: 400;
            color: #ffffff;
            margin: 0;
            text-decoration: none;
            padding: 12px 32px;
            border: 1px solid #ffffff;
            border-radius: 999px;
            transition: all 0.3s ease;
        }

        .otherside_link:hover {
            background-color: #ffffff;
            color: #4768C9;
        }

        /* ✅ 1512px 이하 */
        @media screen and (max-width: 1512px) {
            .portfolio_wrapper {
                width: 95%;
                height: 648px;
            }
        }

        /* ✅ 1280px 이하 */
        @media screen and (max-width: 1280px) {
            .portfolio_top_title_box {
                gap: 20px;
            }

            .portfolio_title {
                font-size: 48px;
            }

            .portfolio_desc {
                font-size: 20px;
            }

            .portfolio_bottom {
                gap: 24px;
            }
        }

        /* ✅ 1024px 이하 */
        @media screen and (max-width: 1024px) {
            .portfolio_wrapper {
                width: 100%;
                height: 554px;
                padding: 0 16px;
            }

            .portfolio_bottom {
                gap: 16px;
            }

            .portfolio_card {
                width: 240px;
                height: 343px;
                border-radius: 24px;
            }

            .portfolio_card_title {
                font-size: 20px;
            }
        }

        /* ✅ 768px 이하 */
        @media screen and (max-width: 768px) {
            .portfolio_wrapper {
                height: 460px;
            }

            .portfolio_box {
                gap: 32px;
            }

            .portfolio_top_title_box {
                gap: 16px;
            }

            .portfolio_card {
                width: 220px;
                height: 314px;
                border-radius: 16px;
            }

            .portfolio_card_title {
                font-size: 16px;
            }

            .portfolio_title {
                font-size: 32px;
            }

            .portfolio_desc {
                font-size: 16px;
            }

            .portfolio_date {
                font-size: 12px;
            }

            .otherside_title {
                font-size: 16px;
            }

            .otherside_desc {
                font-size: 12px;
            }

            .otherside_link {
                font-size: 12px;
                padding: 8px 24px;
            }
        }

        /* ✅ 440px 이하 */
        @media screen and (max-width: 440px) {
            .portfolio_wrapper {
                height: 372px;
            }

            .portfolio_box {
                gap: 24px;
            }

            .portfolio_top_title_box {
                gap: 8px;
            }

            .portfolio_card {
                width: 180px;
                height: 257px;
                border-radius: 16px;
            }

            .portfolio_card_title {
                font-size: 16px;
            }

            .portfolio_title {
                font-size: 24px;
            }

            .portfolio_desc {
                font-size: 12px;
            }

            .portfolio_date {
                font-size: 10px;
            }
        }
    </style>
</head>

<body>

    <section class="portfolio_container">
        <div class="portfolio_wrapper">
            <div class="portfolio_box">

                <div class="portfolio_top">
                    <div class="portfolio_top_title_box">
                        <p class="portfolio_title">
                            OUR PROJECTS
                        </p>
                        <p class="portfolio_desc">
                            고객을 목적으로 유도하는 전략,
                            <br>
                            심플함의 미학을 강조하는 그룹입니다.
                        </p>
                    </div>
                    <div class="portfolio_top_right">
                        <p class="portfolio_date">
                            UPDATED in Sept 2025
                        </p>
                    </div>
                </div>

                <div class="portfolio_bottom">

                    <div class="portfolio_card_box">
                        <div class="portfolio_card">
                            <div class="portfolio_card_inner">
                                <div class="otherside_card">
                                    <p class="otherside_title">
                                        양쉐프양구이
                                    </p>
                                    <p class="otherside_desc">
                                        반응형 웹제작
                                    </p>
                                    <a href="#" target="_blank" class="otherside_link">
                                        MORE VIEW
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio_card_title">
                            양쉐프양구이
                        </div>
                    </div>
                    <div class="portfolio_card_box">
                        <div class="portfolio_card">
                            <div class="portfolio_card_inner">
                                <div class="otherside_card">
                                    <p class="otherside_title">
                                        양쉐프양구이
                                    </p>
                                    <p class="otherside_desc">
                                        반응형 웹제작
                                    </p>
                                    <a href="#" target="_blank" class="otherside_link">
                                        MORE VIEW
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio_card_title">
                            공명 법률사무소
                        </div>
                    </div>
                    <div class="portfolio_card_box">
                        <div class="portfolio_card">
                            <div class="portfolio_card_inner">
                                <div class="otherside_card">
                                    <p class="otherside_title">
                                        양쉐프양구이
                                    </p>
                                    <p class="otherside_desc">
                                        반응형 웹제작
                                    </p>
                                    <a href="#" target="_blank" class="otherside_link">
                                        MORE VIEW
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio_card_title">
                            글로마케팅
                        </div>
                    </div>
                    <div class="portfolio_card_box">
                        <div class="portfolio_card">
                            <div class="portfolio_card_inner">
                                <div class="otherside_card">
                                    <p class="otherside_title">
                                        양쉐프양구이
                                    </p>
                                    <p class="otherside_desc">
                                        반응형 웹제작
                                    </p>
                                    <a href="#" target="_blank" class="otherside_link">
                                        MORE VIEW
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio_card_title">
                            에버클래스
                        </div>
                    </div>
                    <div class="portfolio_card_box">
                        <div class="portfolio_card">
                            <div class="portfolio_card_inner">
                                <div class="otherside_card">
                                    <p class="otherside_title">
                                        양쉐프양구이
                                    </p>
                                    <p class="otherside_desc">
                                        반응형 웹제작
                                    </p>
                                    <a href="#" target="_blank" class="otherside_link">
                                        MORE VIEW
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio_card_title">
                            HIGHEND영어
                        </div>
                    </div>
                    <div class="portfolio_card_box">
                        <div class="portfolio_card">
                            <div class="portfolio_card_inner">
                                <div class="otherside_card">
                                    <p class="otherside_title">
                                        양쉐프양구이
                                    </p>
                                    <p class="otherside_desc">
                                        반응형 웹제작
                                    </p>
                                    <a href="#" target="_blank" class="otherside_link">
                                        MORE VIEW
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio_card_title">
                            청운
                        </div>
                    </div>
                    <div class="portfolio_card_box">
                        <div class="portfolio_card">
                            <div class="portfolio_card_inner">
                                <div class="otherside_card">
                                    <p class="otherside_title">
                                        양쉐프양구이
                                    </p>
                                    <p class="otherside_desc">
                                        반응형 웹제작
                                    </p>
                                    <a href="#" target="_blank" class="otherside_link">
                                        MORE VIEW
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="portfolio_card_title">
                            뮤직나무
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <script>
        (function () {
            const track = document.querySelector('.portfolio_bottom');
            if (!track) return;

            // 1) 무한루프 위해 복제
            const items = Array.from(track.children);
            const clone = items.map(n => n.cloneNode(true));
            clone.forEach(n => track.appendChild(n));

            // 상태값
            let paused = false;
            let stepSize = 0;
            let moveDuration = 800;
            let dwell = 3000;
            let timer = null;
            let resumeKick = null;
            const GAP = getGap(track);

            // 카드 한 칸 크기 계산
            function recalc() {
                const first = track.querySelector('.portfolio_card_box');
                if (!first) return;
                const rect = first.getBoundingClientRect();
                stepSize = Math.round(rect.width + GAP);
            }
            function getGap(el) {
                const cs = getComputedStyle(el);
                const g = parseFloat(cs.columnGap || cs.gap || '0');
                return isNaN(g) ? 0 : g;
            }
            recalc();
            window.addEventListener('resize', recalc);

            // hover 시 정지
            track.querySelectorAll('.portfolio_card').forEach(card => {
                card.addEventListener('mouseenter', () => { paused = true; clearTimer(); });
                card.addEventListener('mouseleave', () => { paused = false; scheduleNext(dwell); });
                card.addEventListener('focusin', () => { paused = true; clearTimer(); });
                card.addEventListener('focusout', () => { paused = false; scheduleNext(dwell); });
            });

            // 2) 드래그(마우스/터치)만 허용
            let isDown = false, startX = 0, startLeft = 0;
            track.addEventListener('pointerdown', (e) => {
                isDown = true;
                track.setPointerCapture(e.pointerId);
                startX = e.clientX;
                startLeft = track.scrollLeft;
                userPause();
            });
            track.addEventListener('pointermove', (e) => {
                if (!isDown) return;
                const dx = e.clientX - startX;
                track.scrollLeft = startLeft - dx;
                wrapIfNeeded();
            });
            track.addEventListener('pointerup', () => { isDown = false; afterUserPause(); });
            track.addEventListener('pointercancel', () => { isDown = false; afterUserPause(); });

            // 3) 무한 루프 보정
            function wrapIfNeeded() {
                const half = Math.floor(track.scrollWidth / 2);
                if (track.scrollLeft >= half) track.scrollLeft -= half;
                if (track.scrollLeft < 0) track.scrollLeft += half;
            }

            // 경계에 스냅
            function snapToNearest(duration = 0) {
                wrapIfNeeded();
                const target = Math.round(track.scrollLeft / stepSize) * stepSize;
                animateScrollTo(target, duration);
            }

            // 다음 칸으로 자동 이동
            function snapToNext() {
                if (paused) return scheduleNext(300);
                wrapIfNeeded();
                const base = Math.round(track.scrollLeft / stepSize) * stepSize;
                const target = base + stepSize;
                animateScrollTo(target, moveDuration, () => scheduleNext(dwell));
            }

            // 스크롤 애니메이션
            function animateScrollTo(target, duration = 300, onDone) {
                wrapIfNeeded();
                if (duration <= 0) {
                    track.scrollLeft = target;
                    wrapIfNeeded();
                    onDone && onDone();
                    return;
                }
                const start = track.scrollLeft;
                let startTime = null;

                function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }

                function step(ts) {
                    if (startTime == null) startTime = ts;
                    const p = Math.min(1, (ts - startTime) / duration);
                    const v = start + (target - start) * easeOutCubic(p);
                    track.scrollLeft = v;
                    wrapIfNeeded();
                    if (p < 1) {
                        requestAnimationFrame(step);
                    } else {
                        onDone && onDone();
                    }
                }
                requestAnimationFrame(step);
            }

            // 타이머 관리
            function scheduleNext(wait) {
                clearTimer();
                timer = setTimeout(snapToNext, wait);
            }
            function clearTimer() {
                if (timer) { clearTimeout(timer); timer = null; }
            }

            // 사용자 조작 시 잠깐 멈춘 뒤, 경계에 스냅하고 일정시간 뒤 재개
            function userPause() {
                paused = true;
                clearTimer();
                if (resumeKick) clearTimeout(resumeKick);
            }
            function afterUserPause() {
                if (resumeKick) clearTimeout(resumeKick);
                resumeKick = setTimeout(() => {
                    paused = false;
                    snapToNearest(180);
                    scheduleNext(dwell);
                }, 500);
            }

            // 4) 휠 스크롤 차단 (원치 않으니까 막음)
            track.addEventListener('wheel', (e) => {
                e.preventDefault();
            }, { passive: false });

            // 초기 시작
            snapToNearest(0);
            scheduleNext(dwell);

        })();
    </script>

</body>

</html>